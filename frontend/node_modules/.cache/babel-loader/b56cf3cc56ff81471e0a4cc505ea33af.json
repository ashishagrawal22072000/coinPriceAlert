{"ast":null,"code":"var _jsxFileName = \"/home/ashish/Desktop/pricetracker/frontend/src/Store.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Store = /*#__PURE__*/createContext();\nconst initialState = {\n  //   fullBox: false,\n  userInfo: localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null,\n  track: {\n    alert: localStorage.getItem('alert') ? JSON.parse(localStorage.getItem('alert')) : []\n  } //   cart: {\n  //     shippingAddress: localStorage.getItem('shippingAddress')\n  //       ? JSON.parse(localStorage.getItem('shippingAddress'))\n  //       : { location: {} },\n  //     paymentMethod: localStorage.getItem('paymentMethod')\n  //       ? localStorage.getItem('paymentMethod')\n  //       : '',\n  //     cartItems: localStorage.getItem('cartItems')\n  //       ? JSON.parse(localStorage.getItem('cartItems'))\n  //       : [],\n  //   },\n\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    // case 'SET_FULLBOX_ON':\n    //   return { ...state, fullBox: true };\n    // case 'SET_FULLBOX_OFF':\n    //   return { ...state, fullBox: false };\n    // case 'CART_ADD_ITEM':\n    //   // add to cart\n    //   const newItem = action.payload;\n    //   const existItem = state.cart.cartItems.find(\n    //     (item) => item._id === newItem._id\n    //   );\n    //   const cartItems = existItem\n    //     ? state.cart.cartItems.map((item) =>\n    //         item._id === existItem._id ? newItem : item\n    //       )\n    //     : [...state.cart.cartItems, newItem];\n    //   localStorage.setItem('cartItems', JSON.stringify(cartItems));\n    //   return { ...state, cart: { ...state.cart, cartItems } };\n    // case 'CART_REMOVE_ITEM': {\n    //   const cartItems = state.cart.cartItems.filter(\n    //     (item) => item._id !== action.payload._id\n    //   );\n    //   localStorage.setItem('cartItems', JSON.stringify(cartItems));\n    //   return { ...state, cart: { ...state.cart, cartItems } };\n    // }\n    // case 'CART_CLEAR':\n    //   return { ...state, cart: { ...state.cart, cartItems: [] } };\n    case 'USER_SIGNIN':\n      return { ...state,\n        userInfo: action.payload\n      };\n\n    case 'USER_SIGNOUT':\n      return { ...state,\n        userInfo: null // cart: {\n        //   cartItems: [],\n        //   shippingAddress: {},\n        //   paymentMethod: '',\n        // },\n\n      };\n\n    case 'ADD_ALERT':\n      const newItem = action.payload;\n      const existItem = state.track.alert.find(item => item.coinType != newItem.coinType);\n      console.log('existItem', existItem);\n      const alerts = existItem ? state.track.alert.map(item => item.coinType === existItem.coinType ? newItem : item) : [...state.track.alert, newItem];\n      console.log('alerts', alerts);\n      localStorage.setItem('alert', JSON.stringify(alerts));\n      return { ...state,\n        track: { ...state.track,\n          alerts\n        }\n      };\n    // case 'SAVE_SHIPPING_ADDRESS':\n    //   return {\n    //     ...state,\n    //     cart: {\n    //       ...state.cart,\n    //       shippingAddress: action.payload,\n    //     },\n    //   }\n    //     case 'SAVE_SHIPPING_ADDRESS_MAP_LOCATION':\n    //       return {\n    //         ...state,\n    //         cart: {\n    //           ...state.cart,\n    //           shippingAddress: {\n    //             ...state.cart.shippingAddress,\n    //             location: action.payload,\n    //           },\n    //         },\n    //       };\n    //     case 'SAVE_PAYMENT_METHOD':\n    //       return {\n    //         ...state,\n    //         cart: { ...state.cart, paymentMethod: action.payload },\n    //       };\n\n    default:\n      return state;\n  }\n}\n\nexport function StoreProvider(props) {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const value = {\n    state,\n    dispatch\n  };\n  return /*#__PURE__*/_jsxDEV(Store.Provider, {\n    value: value,\n    children: [props.children, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 10\n  }, this);\n}\n\n_s(StoreProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = StoreProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreProvider\");","map":{"version":3,"names":["createContext","useReducer","Store","initialState","userInfo","localStorage","getItem","JSON","parse","track","alert","reducer","state","action","type","payload","newItem","existItem","find","item","coinType","console","log","alerts","map","setItem","stringify","StoreProvider","props","dispatch","value","children"],"sources":["/home/ashish/Desktop/pricetracker/frontend/src/Store.js"],"sourcesContent":["import { createContext, useReducer } from 'react'\n\nexport const Store = createContext()\n\nconst initialState = {\n  //   fullBox: false,\n  userInfo: localStorage.getItem('userInfo')\n    ? JSON.parse(localStorage.getItem('userInfo'))\n    : null,\n\n  track: {\n    alert: localStorage.getItem('alert')\n      ? JSON.parse(localStorage.getItem('alert'))\n      : [],\n  },\n\n  //   cart: {\n  //     shippingAddress: localStorage.getItem('shippingAddress')\n  //       ? JSON.parse(localStorage.getItem('shippingAddress'))\n  //       : { location: {} },\n  //     paymentMethod: localStorage.getItem('paymentMethod')\n  //       ? localStorage.getItem('paymentMethod')\n  //       : '',\n  //     cartItems: localStorage.getItem('cartItems')\n  //       ? JSON.parse(localStorage.getItem('cartItems'))\n  //       : [],\n  //   },\n}\nfunction reducer(state, action) {\n  switch (action.type) {\n    // case 'SET_FULLBOX_ON':\n    //   return { ...state, fullBox: true };\n    // case 'SET_FULLBOX_OFF':\n    //   return { ...state, fullBox: false };\n\n    // case 'CART_ADD_ITEM':\n    //   // add to cart\n    //   const newItem = action.payload;\n    //   const existItem = state.cart.cartItems.find(\n    //     (item) => item._id === newItem._id\n    //   );\n    //   const cartItems = existItem\n    //     ? state.cart.cartItems.map((item) =>\n    //         item._id === existItem._id ? newItem : item\n    //       )\n    //     : [...state.cart.cartItems, newItem];\n    //   localStorage.setItem('cartItems', JSON.stringify(cartItems));\n    //   return { ...state, cart: { ...state.cart, cartItems } };\n    // case 'CART_REMOVE_ITEM': {\n    //   const cartItems = state.cart.cartItems.filter(\n    //     (item) => item._id !== action.payload._id\n    //   );\n    //   localStorage.setItem('cartItems', JSON.stringify(cartItems));\n    //   return { ...state, cart: { ...state.cart, cartItems } };\n    // }\n    // case 'CART_CLEAR':\n    //   return { ...state, cart: { ...state.cart, cartItems: [] } };\n\n    case 'USER_SIGNIN':\n      return { ...state, userInfo: action.payload }\n    case 'USER_SIGNOUT':\n      return {\n        ...state,\n        userInfo: null,\n        // cart: {\n        //   cartItems: [],\n        //   shippingAddress: {},\n        //   paymentMethod: '',\n        // },\n      }\n    case 'ADD_ALERT':\n      const newItem = action.payload\n      const existItem = state.track.alert.find(\n        (item) => item.coinType != newItem.coinType,\n      )\n      console.log('existItem', existItem)\n      const alerts = existItem\n        ? state.track.alert.map((item) =>\n            item.coinType === existItem.coinType ? newItem : item,\n          )\n        : [...state.track.alert, newItem]\n      console.log('alerts', alerts)\n\n      localStorage.setItem('alert', JSON.stringify(alerts))\n      return { ...state, track: { ...state.track, alerts } }\n    // case 'SAVE_SHIPPING_ADDRESS':\n    //   return {\n    //     ...state,\n    //     cart: {\n    //       ...state.cart,\n    //       shippingAddress: action.payload,\n    //     },\n    //   }\n    //     case 'SAVE_SHIPPING_ADDRESS_MAP_LOCATION':\n    //       return {\n    //         ...state,\n    //         cart: {\n    //           ...state.cart,\n    //           shippingAddress: {\n    //             ...state.cart.shippingAddress,\n    //             location: action.payload,\n    //           },\n    //         },\n    //       };\n\n    //     case 'SAVE_PAYMENT_METHOD':\n    //       return {\n    //         ...state,\n    //         cart: { ...state.cart, paymentMethod: action.payload },\n    //       };\n    default:\n      return state\n  }\n}\n\nexport function StoreProvider(props) {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  const value = { state, dispatch }\n  return <Store.Provider value={value}>{props.children} </Store.Provider>\n}\n"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,QAA0C,OAA1C;;AAEA,OAAO,MAAMC,KAAK,gBAAGF,aAAa,EAA3B;AAEP,MAAMG,YAAY,GAAG;EACnB;EACAC,QAAQ,EAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,IACNC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CADM,GAEN,IAJe;EAMnBG,KAAK,EAAE;IACLC,KAAK,EAAEL,YAAY,CAACC,OAAb,CAAqB,OAArB,IACHC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CADG,GAEH;EAHC,CANY,CAYnB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAtBmB,CAArB;;AAwBA,SAASK,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;EAC9B,QAAQA,MAAM,CAACC,IAAf;IACE;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA,KAAK,aAAL;MACE,OAAO,EAAE,GAAGF,KAAL;QAAYR,QAAQ,EAAES,MAAM,CAACE;MAA7B,CAAP;;IACF,KAAK,cAAL;MACE,OAAO,EACL,GAAGH,KADE;QAELR,QAAQ,EAAE,IAFL,CAGL;QACA;QACA;QACA;QACA;;MAPK,CAAP;;IASF,KAAK,WAAL;MACE,MAAMY,OAAO,GAAGH,MAAM,CAACE,OAAvB;MACA,MAAME,SAAS,GAAGL,KAAK,CAACH,KAAN,CAAYC,KAAZ,CAAkBQ,IAAlB,CACfC,IAAD,IAAUA,IAAI,CAACC,QAAL,IAAiBJ,OAAO,CAACI,QADnB,CAAlB;MAGAC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBL,SAAzB;MACA,MAAMM,MAAM,GAAGN,SAAS,GACpBL,KAAK,CAACH,KAAN,CAAYC,KAAZ,CAAkBc,GAAlB,CAAuBL,IAAD,IACpBA,IAAI,CAACC,QAAL,KAAkBH,SAAS,CAACG,QAA5B,GAAuCJ,OAAvC,GAAiDG,IADnD,CADoB,GAIpB,CAAC,GAAGP,KAAK,CAACH,KAAN,CAAYC,KAAhB,EAAuBM,OAAvB,CAJJ;MAKAK,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,MAAtB;MAEAlB,YAAY,CAACoB,OAAb,CAAqB,OAArB,EAA8BlB,IAAI,CAACmB,SAAL,CAAeH,MAAf,CAA9B;MACA,OAAO,EAAE,GAAGX,KAAL;QAAYH,KAAK,EAAE,EAAE,GAAGG,KAAK,CAACH,KAAX;UAAkBc;QAAlB;MAAnB,CAAP;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;;IACA;MACE,OAAOX,KAAP;EAlFJ;AAoFD;;AAED,OAAO,SAASe,aAAT,CAAuBC,KAAvB,EAA8B;EAAA;;EACnC,MAAM,CAAChB,KAAD,EAAQiB,QAAR,IAAoB5B,UAAU,CAACU,OAAD,EAAUR,YAAV,CAApC;EACA,MAAM2B,KAAK,GAAG;IAAElB,KAAF;IAASiB;EAAT,CAAd;EACA,oBAAO,QAAC,KAAD,CAAO,QAAP;IAAgB,KAAK,EAAEC,KAAvB;IAAA,WAA+BF,KAAK,CAACG,QAArC;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;AACD;;GAJeJ,a;;KAAAA,a"},"metadata":{},"sourceType":"module"}